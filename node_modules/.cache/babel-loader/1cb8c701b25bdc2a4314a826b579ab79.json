{"ast":null,"code":"import _regeneratorRuntime from \"/Users/brandonbeschta/workspace/arcane-headland-80607/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/brandonbeschta/workspace/arcane-headland-80607/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/brandonbeschta/workspace/arcane-headland-80607/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/brandonbeschta/workspace/arcane-headland-80607/src/components/News/News.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport classNames from \"classnames\";\nimport { ListGroup, ListGroupItem, Image } from \"react-bootstrap\";\nimport { RECENT_NEWS } from \"./constants.js\";\nimport moment from \"moment\";\nimport { useTranslation } from \"react-i18next\";\nimport \"./News.scss\";\n\nvar News = function News() {\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var _useState = useState({\n    error: null,\n    isLoaded: false,\n    articles: [],\n    apiCode: \"e6f7827e0da94e2a8f213be575bbf833\"\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentState = _useState2[0],\n      setCurrentState = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      spaceArticles = _useState4[0],\n      setSpaceArticles = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      viewMore = _useState6[0],\n      setViewMore = _useState6[1];\n\n  var viewMoreSpanClassNames = classNames(\"fas\", {\n    \"fa-chevron-down\": !viewMore,\n    \"fa-chevron-up\": viewMore\n  });\n  useEffect(function () {\n    fetch(\"http://newsapi.org/v2/top-headlines?country=us\", {\n      method: \"GET\",\n      mode: \"cors\",\n      headers: {\n        \"X-Api-Key\": currentState.apiCode\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (result) {\n      setCurrentState({\n        isLoaded: true,\n        articles: result.articles\n      });\n    }, function (error) {\n      setCurrentState({\n        isLoaded: true,\n        error: error\n      });\n    });\n  }, []);\n  useEffect(function () {\n    getSpaceNews();\n  }, []);\n  useEffect(function () {\n    console.log(spaceArticles);\n  }, [spaceArticles]);\n\n  var getSpaceNews = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              fetch(\"https://api.spaceflightnewsapi.net/v3/articles?_limit=10\", {\n                methood: \"GET\"\n              }).then(function (response) {\n                return response.json();\n              }).then(function (json) {\n                return setSpaceArticles(json);\n              }).catch(function (error) {\n                return console.log(\"error: \", error);\n              });\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getSpaceNews() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var renderNewsHeader = function renderNewsHeader() {\n    return /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"mt-5 mb-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }\n    }, t(\"news.header\"), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-newspaper ml-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    }));\n  };\n\n  var renderSpaceNews = function renderSpaceNews() {\n    if (spaceArticles.length) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, spaceArticles.map(function (article) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: article.id,\n          className: \"media\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"media-body\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"h4\", {\n          className: \"media-heading\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 19\n          }\n        }, article.title), /*#__PURE__*/React.createElement(\"p\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 19\n          }\n        }, article.summary)), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"media-right\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: article.imageUrl,\n          className: \"media-object img-responsive\",\n          alt: \"News article\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 19\n          }\n        })));\n      }));\n    }\n  };\n\n  var handleViewMore = function handleViewMore() {\n    setViewMore(!viewMore);\n  };\n\n  var handleClickNewsArticle = function handleClickNewsArticle(url) {\n    window.location = url;\n  };\n\n  var renderNewsContent = function renderNewsContent() {\n    // const { error, isLoaded } = currentState;\n    // if (error) {\n    //   return <div>Error: {error.message}</div>;\n    // } else if (!isLoaded) {\n    //   return <div>Loading...</div>;\n    // }\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb-1\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ListGroup, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }\n    }, RECENT_NEWS && RECENT_NEWS.slice(0, 8).map(function (item) {\n      return /*#__PURE__*/React.createElement(ListGroupItem, {\n        key: item.url,\n        className: \"media\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"media-left\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Image, {\n        className: \"media-object mr-3\",\n        src: item.urlToImage,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"media-body\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        onClick: function onClick() {\n          return handleClickNewsArticle(item.url);\n        },\n        className: \"media-heading\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 19\n        }\n      }, item.title), \"\".concat(item.description, \" - \").concat(moment(item.publishedAt).format(\"MMMM D YYYY\"))));\n    }), RECENT_NEWS && viewMore && RECENT_NEWS.slice(8, RECENT_NEWS.length - 1).map(function (item) {\n      return /*#__PURE__*/React.createElement(ListGroupItem, {\n        key: item.url,\n        className: \"media\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"media-left\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Image, {\n        className: \"media-object mr-3\",\n        src: item.urlToImage,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"media-body\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        onClick: function onClick() {\n          return handleClickNewsArticle(item.url);\n        },\n        className: \"media-heading\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 19\n        }\n      }, item.title), \"\".concat(item.description, \" - \").concat(moment(item.publishedAt).format(\"MMMM D YYYY\"))));\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"view-more\",\n      onClick: function onClick() {\n        return handleViewMore();\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }\n    }, viewMore ? \"\" : \"View More\", \" \", /*#__PURE__*/React.createElement(\"i\", {\n      className: viewMoreSpanClassNames,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 41\n      }\n    })));\n  };\n\n  var renderNewsAttribution = function renderNewsAttribution() {\n    return /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://newsapi.org\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 12\n      }\n    }, \"Powered by News API\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"news-page\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 5\n    }\n  }, renderNewsHeader(), renderNewsContent(), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }\n  }), renderNewsAttribution());\n};\n\nexport default News;","map":{"version":3,"sources":["/Users/brandonbeschta/workspace/arcane-headland-80607/src/components/News/News.js"],"names":["React","useEffect","useState","classNames","ListGroup","ListGroupItem","Image","RECENT_NEWS","moment","useTranslation","News","t","error","isLoaded","articles","apiCode","currentState","setCurrentState","spaceArticles","setSpaceArticles","viewMore","setViewMore","viewMoreSpanClassNames","fetch","method","mode","headers","then","res","json","result","getSpaceNews","console","log","methood","response","catch","renderNewsHeader","renderSpaceNews","length","map","article","id","title","summary","imageUrl","handleViewMore","handleClickNewsArticle","url","window","location","renderNewsContent","slice","item","urlToImage","description","publishedAt","format","renderNewsAttribution"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport classNames from \"classnames\";\nimport { ListGroup, ListGroupItem, Image } from \"react-bootstrap\";\nimport { RECENT_NEWS } from \"./constants.js\";\nimport moment from \"moment\";\nimport { useTranslation } from \"react-i18next\";\n\nimport \"./News.scss\";\n\nconst News = () => {\n  const { t } = useTranslation();\n  const [currentState, setCurrentState] = useState({\n    error: null,\n    isLoaded: false,\n    articles: [],\n    apiCode: \"e6f7827e0da94e2a8f213be575bbf833\"\n  });\n  const [spaceArticles, setSpaceArticles] = useState([]);\n  const [viewMore, setViewMore] = useState(false);\n  const viewMoreSpanClassNames = classNames(\"fas\", {\n    \"fa-chevron-down\": !viewMore,\n    \"fa-chevron-up\": viewMore\n  });\n\n  useEffect(() => {\n    fetch(`http://newsapi.org/v2/top-headlines?country=us`, {\n      method: \"GET\",\n      mode: \"cors\",\n      headers: {\n        \"X-Api-Key\": currentState.apiCode\n      }\n    })\n      .then(res => res.json())\n      .then(\n        result => {\n          setCurrentState({\n            isLoaded: true,\n            articles: result.articles\n          });\n        },\n        error => {\n          setCurrentState({\n            isLoaded: true,\n            error\n          });\n        }\n      );\n  }, []);\n\n  useEffect(() => {\n    getSpaceNews();\n  }, []);\n\n  useEffect(() => {\n    console.log(spaceArticles);\n  }, [spaceArticles]);\n\n  const getSpaceNews = async () => {\n    fetch(\"https://api.spaceflightnewsapi.net/v3/articles?_limit=10\", {\n      methood: \"GET\"\n    })\n      .then(response => response.json())\n      .then(json => setSpaceArticles(json))\n      .catch(error => console.log(\"error: \", error));\n  };\n\n  const renderNewsHeader = () => {\n    return (\n      <h2 className=\"mt-5 mb-4\">\n        {t(\"news.header\")}\n        <i className=\"fas fa-newspaper ml-2\" />\n      </h2>\n    );\n  };\n\n  const renderSpaceNews = () => {\n    if (spaceArticles.length) {\n      return (\n        <>\n          {spaceArticles.map(article => {\n            return (\n              <div key={article.id} className=\"media\">\n                <div className=\"media-body\">\n                  <h4 className=\"media-heading\">{article.title}</h4>\n                  <p>{article.summary}</p>\n                </div>\n                <div className=\"media-right\">\n                  <img\n                    src={article.imageUrl}\n                    className=\"media-object img-responsive\"\n                    alt=\"News article\"\n                  />\n                </div>\n              </div>\n            );\n          })}\n        </>\n      );\n    }\n  };\n\n  const handleViewMore = () => {\n    setViewMore(!viewMore);\n  };\n\n  const handleClickNewsArticle = url => {\n    window.location = url;\n  };\n\n  const renderNewsContent = () => {\n    // const { error, isLoaded } = currentState;\n    // if (error) {\n    //   return <div>Error: {error.message}</div>;\n    // } else if (!isLoaded) {\n    //   return <div>Loading...</div>;\n    // }\n\n    return (\n      <div className=\"mb-1\">\n        <ListGroup>\n          {RECENT_NEWS &&\n            RECENT_NEWS.slice(0, 8).map(item => (\n              <ListGroupItem key={item.url} className=\"media\">\n                <div className=\"media-left\">\n                  <Image className=\"media-object mr-3\" src={item.urlToImage} />\n                </div>\n                <div className=\"media-body\">\n                  <h4\n                    onClick={() => handleClickNewsArticle(item.url)}\n                    className=\"media-heading\"\n                  >\n                    {item.title}\n                  </h4>\n                  {`${item.description} - ${moment(item.publishedAt).format(\n                    \"MMMM D YYYY\"\n                  )}`}\n                </div>\n              </ListGroupItem>\n            ))}\n\n          {RECENT_NEWS &&\n            viewMore &&\n            RECENT_NEWS.slice(8, RECENT_NEWS.length - 1).map(item => (\n              <ListGroupItem key={item.url} className=\"media\">\n                <div className=\"media-left\">\n                  <Image className=\"media-object mr-3\" src={item.urlToImage} />\n                </div>\n                <div className=\"media-body\">\n                  <h4\n                    onClick={() => handleClickNewsArticle(item.url)}\n                    className=\"media-heading\"\n                  >\n                    {item.title}\n                  </h4>\n                  {`${item.description} - ${moment(item.publishedAt).format(\n                    \"MMMM D YYYY\"\n                  )}`}\n                </div>\n              </ListGroupItem>\n            ))}\n        </ListGroup>\n        <span className=\"view-more\" onClick={() => handleViewMore()}>\n          {viewMore ? \"\" : \"View More\"} <i className={viewMoreSpanClassNames} />\n        </span>\n      </div>\n    );\n  };\n\n  const renderNewsAttribution = () => {\n    return <a href=\"https://newsapi.org\">Powered by News API</a>;\n  };\n\n  return (\n    <div className=\"news-page\">\n      {renderNewsHeader()}\n      {renderNewsContent()}\n      <br />\n      {renderNewsAttribution()}\n    </div>\n  );\n};\n\nexport default News;\n"]},"metadata":{},"sourceType":"module"}